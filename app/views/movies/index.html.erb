<div class="row">
  <div class="mb-4 moviedb-genres-filter">
    <% @genres.each do |genre| %>
      <% active_class = genre.slug == @current_genre&.slug ? ' active' : '' %>
      <%= link_to genre.name,
                  genre_movies_path(genre.slug),
                  class: "mt-2 ml-2 btn btn-outline-primary moviedb-genres-filter-item#{active_class}" %>
    <% end %>
  </div>
</div>

<div class="row mb-4">
  <% @movies.each do |movie| %>
    <div class="col-lg-6">
      <div class="card flex-sm-row mb-4 box-shadow h-md-250">
        <div class="card-body d-flex flex-column align-items-start">
          <h3 class="mb-0 moviedb-card-title">
            <%= link_to movie.title, movie, class: 'text-dark' %>
          </h3>
          <div class="mb-1">
            <i class="fas fa-star text-warning"></i>
            <%= movie.rating %>
          </div>
          <p class="card-text mb-auto">
            <% movie.genres.each do |genre| %>
              <%= link_to genre.name, genre_movies_path(genre.slug), class: 'badge badge-primary' %>
            <% end %>
          </p>
          <a class="mt-3 mt-sm-0" href="#">Rate this!</a>
        </div>
        <img class="card-img-right flex-auto d-none d-sm-block" alt="Thumbnail [200x250]" style="width: 180px; height: 250px;" src="<%= movie.poster %>" data-holder-rendered="true">
      </div>
    </div>
  <% end %>
  <%= paginate @movies, theme: 'twitter-bootstrap-4', nav_class: 'col-12' %>
</div>
